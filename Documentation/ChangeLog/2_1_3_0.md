# 2.1.3.0 Better QoL Usability Integration

## Topics

1. [x] Linux Integration
2. [x] Virtual Threads
3. [x] Data Receiver
    1. [x] [Bug] App not starting
4. [x] Data Reader
5. [x] Data Writer
6. [x] Data Configurator
7. [x] Basepath
8. [x] UI
9. [x] Exporting
10. [x] Exitter

### UI

The UI for the app has remained unchanged apart from the MenuBar. The MenuBar was updated to make finding selections
easier.

1. Screenshot, csv exporting moved to **Export**
2. Size changing of table and graph moved to view.
3. Added a SeparatorMenuItem

New MenuBar:

1. File
    1. Close/Quit
2. View
    1. Scatterplot
        1. Fit View
        2. Full View
        3. Increase Width
        4. Decrease Width
    2. Table
        1. Increase Height
        2. Decrease Height
3. Export
    1. Screenshot
        1. Scatterplot
        2. Table
    2. Data
        1. CSV
        2. Raw
4. Help
    1. About
    2. Filepaths
        1. app
        2. screenshots
        3. csv
        4. settings / config file

Find Filepaths: [UI] Added find in help to show the filepaths for the below

1. basepath
2. screenshots
3. exported csv
4. settings file

- This is under UI, get paths.

### Basepath, Screenshots and Exported CSVs

1. The basepath originally used the username of the user and a specific fixed path to place project folders and files
   like
   the config file.

2. Now the filepaths will be in the right places.
   property: "user.name" -> "user.home"

3. All screenshots and exported CSVs will be in this basepath.

### Virtual Threads

1. The app originally had about 4-5 Platform/OS Threads. This was then changed to have ~3 Platform Threads. 2 of the
   Platform Threads were changed to Virtual Threads.

2. Data Reader and Data Writer were converted from Platform to Virtual Threads.

3. Using virtual threads reduces the resources used.

### Linux Integration (Not tested)

In this update, Linux support is added. so now it should work with linux based systems.

### Data Receiver

1. When the app was connected to the Serial Comm Port, the app ran normally. But when there was no Serial Port
   connected (port indicated in config), the app would run but not show that it was running.
2. Problem: App when it didn't find the serial port was stuck and showed no ui or in the dock. This was only found in
   the terminal being run.
3. Fix: Add a check to see if the port exists.
    1. I did a foreach on the list of serial ports and checked if they had the same name.
    2. With the same name it will exit the loop and continue normally.
    3. If the serial port is not found, it will throw an exception and close the app
4. [Bug] The app when sends the end-flag, throws "Unable to readLine()" exception.
5. [Fix] break from loop and interrupt Data Receiver Thread.
6. [Fix] When found Serial port, break from loop

### Exitter and Exceptions

1. When the app was exiting during normal circumstances, it exited normally.
2. [Bug] When the app was stuck in the "Data Receiver Not Found" problem, the app would get stuck trying to exit app.
3. [Fix]
    1. Interrupts Data Keeper if it is running
    2. Check if the data receiver thread is not null
4. This fixed the issue of the app being stuck in not exiting the app.

### Miscellaneous

1. Removed unused variables
