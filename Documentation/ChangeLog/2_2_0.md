# 2.1.2.0/1.2.0: Quality of Life Update & Technical Update II

## Topics

1. FilePaths
2. Exitter
3. DataWriter (maybe javafx daemon thread)
4. Logger

### 2.1.1.1: DataStorage Class

1. Constants renamed to Settings
2. Data stored in class was changed to record
3. Records remove data changes
4. class DataPoint replaced with record DataPointRecord

### 2.1.1.2: Platforms (OS)

1. Created enum to store the OS
2. enum Platform: Win11, MacOS
3. Used for OS specific code
4. Project Version (Internal Version IV) changed format from 3 nums to 4 nums: 2.2.0 > 2.1.2.0
5. IV now represents the release version and reduces confusion: 2.2.0 != 1.2.0

**New Internal Version:**

1. Build Version
2. Major Version
3. Minor Version
4. Patch Version

### 2.1.1.3: FilePaths

1. all file/folder paths and creation moved to FilePath
2. FilePath has a Factory to have only 1 instance.
3. App creates its folder in local (Win11)
4. (not tested) App creates its folder in Application (macOS)
5. screenshots in /screenshots/scatterplot or /screenshots/scatterplot in app's folder instead of desktop
6. will generate empty settings.txt if it does not exist
7. Settings will generate the content for settings.txt
8. filepaths are now in 2 categories: basepath and addonpath
9. basepath: the base folder of the app
10. addonpath: paths of files and folders in app's folder
11. any missing files/folders will be generated

##### Classes and Basic Description

**Package: filepaths**

1. FilePath: handles all files' and folders' paths and creations.
2. FilePathFactory: Makes sure there is only a single instance of FilePath
3. Settings: The file that manages all the Serial Comm Port Connection and App vars

### 2.1.1.4: Exceptions and App Exit


1. Increased try-catch to catch problems
2. Created interface Exitter.
   > Interface used to exit the program by entering a error message
3. (not implemented) stop all the threads before exiting the app.
4. (not implemented) must close all loggers before quitting
5. Classes using interface:
    1. FilePath
    2. DataPlotter
    3. Settings
6. Has a var called NO_ERROR to exit app without error msg.

#### Classes

1. Exitter: Prints error msg in console, then displays it. after clicking ok, quits the app.

### 2.1.1.5: DataWriter

1. There are more Exceptions to pinpoint problem
2. exceptions when thrown will print error in console and show a dialog box.
3. Exceptions close and stop the app.
4. (not implemented) class DataWriter and DataWriterFactory
5. (not implemented) used to write data to a csv in the time,unit2 format

#### Classes

1. DataWriter
2. DataWriterFactory

### 2.1.1.6: ProjectLogger or ErrorLogger

1. (not implemented) custom logger created.
2. (not implemented) logger will generate log files in /log

### 2.1.1.7: OriginalUI

There were some changes to the UI. There was the ability to change the width of the scatter chart manually by buttons.

1. Created Buttons to increase scatter plot
2. Created Buttons to decrease scatter plot
3. The app now has the app icon in resources
4. the .ico for **jpackage --icon** is also in resources
    - With this, the app and the ui both will have the logo
5. (not implemented) change **tn_depth** to **tn_unit2**

### 2.1.1.8: Settings Format

Settings file will get new format for packetData

1. The other data entry can now be any measure
2. It will be called unit2
3. It will have a name unit2_name
   > It is the name of the measurement like temperature, depth, etc.
4. It will have a name unit2_unit
   > For temperature, the unit would be Â°C and for depth it would be m
5. Time entry can now have different units, time_unit
   > time_unit can now be s, ms, hr, etc.

### 2.1.1.8: Exception Dialog Boxes
All `throw new Exception()` and `System.err.println()` are now succeeded or preceded by an exception dialog box.